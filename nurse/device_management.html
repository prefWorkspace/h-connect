<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>H-Connect</title>
        <!--Import-->
        <script
            type="text/javascript"
            defer
            src="/H-Connect/js/jquery-3.6.0.js"
        ></script>
        <script
            type="text/javascript"
            defer
            src="/H-Connect/js/common.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/deviceNameController.js"
        ></script>
        <script
            type="text/javascript"
            defer
            src="/H-Connect/js/index.js"
        ></script>
        <!-- <script type="text/javascript" defer src="/H-Connect/js/utils/controller/versionController.2022.01.17.js"></script> -->

        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/commonRequest.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/cookieController.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/historyController.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/localStorageController.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/serverController.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/utils/controller/sessionController.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/nurse/management/device/actions/select_device.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/nurse/management/device/actions/searchHandle.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/nurse/management/device/actions/delete_device.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/nurse/management/device/actions/select_device_unused.js"
        ></script>
        <script
            type="module"
            defer
            src="/H-Connect/js/nurse/management/device/actions/cancel_device_unused.js"
        ></script>

        <!--css-->
        <link rel="stylesheet" href="/H-Connect/css/reset.css" />
        <link rel="stylesheet" href="/H-Connect/css/common.css" />
        <link rel="stylesheet" href="/H-Connect/css/nurse.css" />
    </head>
    <body>
        <!-- 장치등록 팝업 -->
        <div class="pop regi_device">
            <div class="overlay">
                <div class="pop_cont">
                    <div class="title">
                        <h2>장치등록</h2>
                    </div>

                    <div class="content">
                        <p>장치종류</p>
                        <div class="selectBox2">
                            <button id="device_name" class="label left_label">
                                산소포화도 측정장치
                            </button>
                            <ul class="optionList left_option">
                                <li class="optionItem left_list">전체</li>
                                <li class="optionItem left_list">
                                    심전도 패치
                                </li>
                                <li class="optionItem left_list active">
                                    산소포화도 측정장치
                                </li>
                                <li class="optionItem left_list">체온 패치</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content">
                        <p>serial no.</p>
                        <input
                            id="device_serial"
                            type="text"
                            placeholder="시리얼 넘버를 입력해주세요."
                        />
                    </div>

                    <small>올바르지 않은 번호 입니다.</small>

                    <div class="btn_list">
                        <button type="button" class="btn rd btn rd btn_cancel">
                            취소
                        </button>
                        <button type="button" class="btn blf btn_check">
                            확인
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 장치반납 팝업 -->
        <div class="pop re_device">
            <div class="overlay">
                <div class="pop_cont">
                    <div class="title">
                        <h2>장치반납</h2>
                    </div>

                    <div class="content">
                        <p>장치종류</p>

                        <div class="selectBox2">
                            <button class="label right_label">
                                산소포화도 측정장치
                            </button>
                            <ul class="optionList right_option">
                                <li class="optionItem right_list">전체</li>
                                <li class="optionItem right_list">
                                    심전도 패치
                                </li>
                                <li class="optionItem right_list active">
                                    산소포화도 측정장치
                                </li>
                                <li class="optionItem right_list">체온 패치</li>
                            </ul>
                        </div>
                    </div>

                    <div class="content">
                        <p>serial no.</p>
                        <input
                            type="text"
                            placeholder="시리얼 넘버를 입력해주세요."
                        />
                    </div>

                    <small>올바르지 않은 번호 입니다.</small>

                    <div class="btn_list">
                        <button type="button" class="btn rd btn rd btn_cancel">
                            취소
                        </button>
                        <button type="button" class="btn blf btn_check">
                            확인
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 장치등록 삭제 -->
        <div class="pop delete delete_regi">
            <div class="overlay">
                <div class="pop_cont">
                    <div>
                        <img src="/H-Connect/img/logo.png" alt="로고" />
                    </div>

                    <h3>등록된 장치를 삭제하고 이전상태로 되돌아갑니다.</h3>
                    <h2>삭제 하시겠습니까?</h2>

                    <div class="btn_list">
                        <button type="button" class="btn gr btn_no">
                            아니요
                        </button>
                        <button type="button" class="btn rdf btn_cut">
                            네, 삭제합니다
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 장치반납 취소 -->
        <div class="pop delete delete_return">
            <div class="overlay">
                <div class="pop_cont">
                    <div>
                        <img src="/H-Connect/img/logo.png" alt="로고" />
                    </div>

                    <h3>장치반납을 취소하고 이전상태로 되돌아갑니다.</h3>
                    <h2>취소 하시겠습니까?</h2>

                    <div class="btn_list">
                        <button type="button" class="btn gr btn_no">
                            아니요
                        </button>
                        <button type="button" class="btn rdf btn_cut">
                            네, 취소합니다
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="wrap">
            <!--헤더 pc-->
            <header id="header" class="pc_header">
                <div class="header_inner">
                    <div>
                        <h1 class="logo">
                            <a class="link" href="index.html">
                                <img
                                    class="img"
                                    src="/H-Connect/img/header/logo.png"
                                    alt="로고"
                                />
                            </a>
                        </h1>

                        <div class="header_title">
                            <h1>관리</h1>
                            <h3>
                                담당 병동, 병실, 병상을 생성하고 관리합니다.
                                또한 환자를 등록하고, 생체신호 장비를
                                관리합니다.
                            </h3>
                        </div>
                    </div>

                    <div>
                        <button type="button" class="btn_logout">
                            심장병동 간호사실
                        </button>
                    </div>
                </div>

                <!-- 로그아웃 팝업 -->
                <div class="pop logout">
                    <div class="wrap_inner">
                        <div>
                            <p>심장병동</p>
                            <h3>심장병동 간호사실</h3>
                        </div>

                        <button type="button" class="btn_bye">로그아웃</button>
                    </div>
                </div>
            </header>

            <!--콘텐츠-->
            <div id="wrap_content" class="nurse nurse_device">
                <nav class="nav">
                    <ul class="main_depth gnb">
                        <li class="gnb_list">
                            <a class="link" href="monitoring.html">
                                모니터링
                            </a>
                        </li>

                        <li class="gnb_list active">
                            <a class="link" href="index.html"> 관리 </a>
                        </li>

                        <li class="gnb_list">
                            <a class="link" href="dashboard.html"> 대시보드 </a>
                        </li>

                        <li class="gnb_list">
                            <a class="link" href="message.html"> 메세지 </a>
                        </li>
                    </ul>
                </nav>

                <div class="wrap_inner">
                    <!-- 관리 -->
                    <section class="section management">
                        <div class="container">
                            <div class="title">
                                <div>
                                    <div>
                                        <img
                                            src="/H-Connect/img/header/clinic.svg"
                                            alt="사람모양 아이콘"
                                        />
                                    </div>
                                    <h2>관리</h2>
                                </div>

                                <p>
                                    병동 및 환자를 관리하고, 장치를 등록합니다.
                                </p>
                            </div>

                            <div class="management_list">
                                <div
                                    class="list off"
                                    onclick="location.href='index.html'"
                                >
                                    <p>병동관리</p>
                                    <div>
                                        <img
                                            src="/H-Connect/img/right_arrow.svg"
                                            alt="오른쪽 화살표"
                                        />
                                    </div>
                                </div>

                                <div
                                    class="list on"
                                    onclick="location.href='device_management.html'"
                                >
                                    <p>장치관리</p>
                                    <div>
                                        <img
                                            src="/H-Connect/img/right_arrow.svg"
                                            alt="오른쪽 화살표"
                                        />
                                    </div>
                                </div>

                                <div
                                    class="list off"
                                    onclick="location.href='measure.html'"
                                >
                                    <p>측정관리</p>
                                    <div>
                                        <img
                                            src="/H-Connect/img/right_arrow.svg"
                                            alt="오른쪽 화살표"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 신규 장치등록 -->
                    <section class="section left new_device">
                        <div class="container">
                            <div class="title">
                                <div>
                                    <h2>신규장치등록</h2>
                                    <button
                                        type="button"
                                        class="btn bl btn_new_device"
                                    >
                                        +장치등록
                                    </button>
                                </div>

                                <p>생체신호 수집장치를 신규 등록합니다.</p>
                            </div>

                            <div class="cont" style="display: block">
                                <div class="device_count">
                                    <div>
                                        <p>심전도 패치</p>
                                        <h1 id="ecg_count">0</h1>
                                        <p class="use_line">사용가능</p>
                                    </div>

                                    <div>
                                        <p>산소포화도 측정장치</p>
                                        <h1 id="spo2_count">0</h1>
                                        <p class="use_line">사용가능</p>
                                    </div>

                                    <div>
                                        <p>체온 패치</p>
                                        <h1 id="temp_count">0</h1>
                                        <p class="use_line">사용가능</p>
                                    </div>
                                </div>

                                <div class="device_list">
                                    <div class="device_search">
                                        <div
                                            class="selectBox2 select_device s_select"
                                        >
                                            <button
                                                class="label device_label"
                                                data-type="0"
                                            >
                                                전체
                                            </button>

                                            <ul
                                                class="optionList device_option"
                                            >
                                                <li
                                                    class="optionItem device_optionItem active"
                                                    data-type="0"
                                                >
                                                    전체
                                                </li>
                                                <li
                                                    class="optionItem device_optionItem"
                                                    data-type="1"
                                                >
                                                    심전도 패치
                                                </li>
                                                <li
                                                    class="optionItem device_optionItem"
                                                    data-type="3"
                                                >
                                                    산소포화도 측정장치
                                                </li>
                                                <li
                                                    class="optionItem device_optionItem"
                                                    data-type="2"
                                                >
                                                    체온 패치
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="search_container">
                                            <input
                                                type="text"
                                                placeholder="serial no를 입력해주세요."
                                            />
                                            <button type="button">
                                                <img
                                                    src="/H-Connect/img/header/search.svg"
                                                    alt="돋보기 아이콘"
                                                />
                                            </button>
                                        </div>
                                    </div>

                                    <div class="device_item">
                                        <!-- <div class="item_row">
                                    <p class="item_name">심전도 패치</p>
                                    <p class="item_num">serial no.</p>
                                    <p class="use_line">사용가능</p>

                                    <button type="button" class="btn rd btn_delete">
                                        삭제
                                    </button>
                                </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- 사용한 장치 반납 -->
                    <section class="section right return_device">
                        <div class="container">
                            <div class="title">
                                <div>
                                    <h2>사용한 장치 반납</h2>
                                    <button
                                        type="button"
                                        class="btn rd btn_use_device"
                                    >
                                        장치반납
                                    </button>
                                </div>

                                <p>
                                    환자가 사용한 생체신호 수집장치를
                                    반납합니다.
                                </p>
                            </div>

                            <div class="cont">
                                <div class="device_count">
                                    <div>
                                        <p>심전도 패치</p>
                                        <h1 id="unused_ecg_count">0</h1>
                                        <p class="use_line">반납완료</p>
                                    </div>

                                    <div>
                                        <p>산소포화도 측정장치</p>
                                        <h1 id="unused_spo2_count">0</h1>
                                        <p class="use_line">반납완료</p>
                                    </div>

                                    <div>
                                        <p>체온 패치</p>
                                        <h1 id="unused_temp_count">0</h1>
                                        <p class="use_line">반납완료</p>
                                    </div>
                                </div>

                                <div class="device_list">
                                    <div class="device_search">
                                        <div
                                            class="selectBox2 select_return s_select"
                                        >
                                            <button
                                                class="label return_label"
                                                data-type="0"
                                            >
                                                전체
                                            </button>
                                            <ul
                                                class="optionList return_option"
                                            >
                                                <li
                                                    class="optionItem return_list active"
                                                    data-type="0"
                                                >
                                                    전체
                                                </li>
                                                <li
                                                    class="optionItem return_list"
                                                    data-type="1"
                                                >
                                                    심전도 패치
                                                </li>
                                                <li
                                                    class="optionItem return_list"
                                                    data-type="3"
                                                >
                                                    산소포화도 측정장치
                                                </li>
                                                <li
                                                    class="optionItem return_list"
                                                    data-type="2"
                                                >
                                                    체온 패치
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="search_container">
                                            <input
                                                type="text"
                                                placeholder="serial no를 입력해주세요."
                                            />
                                            <button type="button">
                                                <img
                                                    src="/H-Connect/img/header/search.svg"
                                                    alt="돋보기 아이콘"
                                                />
                                            </button>
                                        </div>
                                    </div>

                                    <div class="device_item">
                                        <!-- <div class="item_row">
                                    <p class="item_name">산소포화도 측정장치</p>
                                    <p class="item_num">serial no.</p>
                                    <p class="use_line">반납완료</p>

                                    <button type="button" class="btn rd btn_cancel">취소</button>
                                </div> -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
        <!--// end wrap-->
        <script>
            //장치등록 팝업 셀렉트
            const leftlabel = document.querySelector('.left_label');
            const leftoptions = document.querySelectorAll('.left_list');

            const rightlabel = document.querySelector('.right_label');
            const rightoptions = document.querySelectorAll('.right_list');

            const devicelabel = document.querySelector('.device_label');
            const deviceoptions =
                document.querySelectorAll('.device_optionItem');

            const returnLabel = document.querySelector('.return_label');
            const returnOption = document.querySelectorAll('.return_list');

            // 클릭한 옵션의 텍스트를 라벨 안에 넣음
            const handleSelect = (item) => {
                leftlabel.parentNode.classList.remove('active');
                leftlabel.innerHTML = item.textContent;
            };
            const handleSelect2 = (item) => {
                rightlabel.parentNode.classList.remove('active');
                rightlabel.innerHTML = item.textContent;
            };
            const deviceSelect = (item) => {
                devicelabel.parentNode.classList.remove('active');
                devicelabel.innerHTML = item.textContent;
            };
            const returnSelect = (item) => {
                returnLabel.parentNode.classList.remove('active');
                returnLabel.innerHTML = item.textContent;
            };

            // 옵션 클릭시 클릭한 옵션을 넘김
            leftoptions.forEach((option) => {
                option.addEventListener('click', () => {
                    handleSelect(option);
                    reset(leftoptions, 'active');
                    option.classList.add('active');
                });
            });
            rightoptions.forEach((option) => {
                option.addEventListener('click', () => {
                    handleSelect2(option);
                    reset(rightoptions, 'active');
                    option.classList.add('active');
                });
            });
            deviceoptions.forEach((option) => {
                option.addEventListener('click', () => {
                    deviceSelect(option);
                    reset(deviceoptions, 'active');
                    option.classList.add('active');
                });
            });
            returnOption.forEach((option) => {
                option.addEventListener('click', () => {
                    returnSelect(option);
                    reset(returnOption, 'active');
                    option.classList.add('active');
                });
            });

            // 라벨을 클릭시 옵션 목록이 열림/닫힘
            leftlabel.addEventListener('click', () => {
                leftlabel.parentNode.classList.toggle('active');
            });
            rightlabel.addEventListener('click', () => {
                rightlabel.parentNode.classList.toggle('active');
            });
            devicelabel.addEventListener('click', () => {
                devicelabel.parentNode.classList.toggle('active');
            });
            returnLabel.addEventListener('click', () => {
                returnLabel.parentNode.classList.toggle('active');
            });
            // 리셋 코드
            function reset(content, className) {
                Array.from(content).forEach((element) => {
                    element.classList.remove(className);
                });
            }
        </script>
    </body>
</html>
